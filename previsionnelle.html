<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pr√©visionnelle</title>
  <link rel="stylesheet" href="style.css" />
  <script src="previsionnelle.js?v=6" defer></script>
</head>
<body>
  <!-- Bouton retour vers le menu param√®tres -->
  <a id="btn-parametres" href="parametres.html" title="Menu">
    <div class="menu-icon"><span></span><span></span><span></span></div>
  </a>

  <header class="header-titre">
    <h1>PR√âVISIONNELLE</h1>
  </header>

  <section>
    <div class="prev-header">
      <h2>Tableau pr√©visionnel</h2>

      <div class="prev-header-right">
        <div class="filters">
          <label>Mois :
            <select id="prev-mois-select"></select>
          </label>
          <label>Ann√©e :
            <select id="prev-annee-select"></select>
          </label>
        </div>
        <div class="prev-actions-inline">
          <button id="prev-save">Enregistrer ce mois</button>
          <span id="prev-status" class="hint"></span>
        </div>
      </div>
    </div>

    <!-- üîµ Cadre blanc de r√©sum√© global -->
    <div class="prev-resume">
      <div class="prev-resume-item">
        <div class="prev-resume-label">Total d√©penses</div>
        <div id="resume-depenses" class="prev-resume-value">0 ‚Ç¨</div>
      </div>
      <div class="prev-resume-item">
        <div class="prev-resume-label">Total entr√©es</div>
        <div id="resume-entrees" class="prev-resume-value">0 ‚Ç¨</div>
      </div>
      <div class="prev-resume-item">
        <div class="prev-resume-label">R√©sultat (entr√©es - d√©penses)</div>
        <div id="resume-resultat" class="prev-resume-value">0 ‚Ç¨</div>
      </div>
    </div>

    <div class="prev-grid">

      <!-- üßæ D√©penses -->
      <div class="prev-col">
        <h3 class="section-sub">D√©penses</h3>
        <table class="prev-table">
          <thead>
            <tr>
              <th>Cat√©gorie</th>
              <th class="prev-amount-col">Montant</th>
              <th class="prev-note-col">Autre</th>
            </tr>
          </thead>
          <tbody id="tbody-depenses">
            <!-- LIGNES AVEC MONTANT PAR D√âFAUT -->
            <tr>
              <td class="prev-label">Loyer</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="loyer" data-label="Loyer"
                       value="550">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="loyer">
              </td>
            </tr>
            <tr>
              <td class="prev-label">√âlectricit√© + Gaz</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="elec_gaz" data-label="√âlectricit√© + Gaz"
                       value="140">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="elec_gaz">
              </td>
            </tr>
            <tr>
              <td class="prev-label">Assurance voiture</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="ass_voiture" data-label="Assurance voiture"
                       value="127.74">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="ass_voiture">
              </td>
            </tr>
            <tr>
              <td class="prev-label">Garantie</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="garantie" data-label="Garantie"
                       value="45">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="garantie">
              </td>
            </tr>
            <tr>
              <td class="prev-label">Forfait t√©l√©phone</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="tel" data-label="Forfait t√©l√©phone"
                       value="36.99">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="tel">
              </td>
            </tr>
            <tr>
              <td class="prev-label">Cr√©dit Agricole</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="credit_agricole" data-label="Cr√©dit Agricole"
                       value="4.48">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="credit_agricole">
              </td>
            </tr>
            <tr>
              <td class="prev-label">Apple</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="apple" data-label="Apple"
                       value="9.99">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="apple">
              </td>
            </tr>
            <tr>
              <td class="prev-label">Essence</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="essence" data-label="Essence"
                       value="50">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="essence">
              </td>
            </tr>
            <tr>
              <td class="prev-label">Courses</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="courses" data-label="Courses"
                       value="100">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="courses">
              </td>
            </tr>
            <tr>
              <td class="prev-label">√âpargne PEL</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="epargne_pel" data-label="√âpargne PEL"
                       value="45">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="epargne_pel">
              </td>
            </tr>

            <!-- LIGNES DESCRIPTION SEULEMENT (SANS MONTANT PAR D√âFAUT) -->
            <tr>
              <td class="prev-label">√âpargne Trade Republic</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="epargne_tr_dep" data-label="√âpargne Trade Republic">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="epargne_tr_dep">
              </td>
            </tr>
            <tr>
              <td class="prev-label">√âpargne Livret A</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="epargne_livret_a_dep" data-label="√âpargne Livret A">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="epargne_livret_a_dep">
              </td>
            </tr>
            <tr>
              <td class="prev-label">√âpargne Fortuneo</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="depenses" data-id="epargne_fortuneo_dep" data-label="√âpargne Fortuneo">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="depenses" data-id="epargne_fortuneo_dep">
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr class="prev-total-row">
              <td class="prev-total-label">Total d√©penses</td>
              <td class="prev-total-cell" id="total-depenses">0 ‚Ç¨</td>
              <td></td>
            </tr>
          </tfoot>
        </table>
        <button type="button" class="prev-add-row" data-bloc="depenses">+ Ajouter une ligne</button>
      </div>

      <!-- üí∂ Entr√©es -->
      <div class="prev-col">
        <h3 class="section-sub">Entr√©es</h3>
        <table class="prev-table">
          <thead>
            <tr>
              <th>Cat√©gorie</th>
              <th class="prev-amount-col">Montant</th>
              <th class="prev-note-col">Autre</th>
            </tr>
          </thead>
          <tbody id="tbody-revenus">
            <tr>
              <td class="prev-label">Salaire</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="revenus" data-id="salaire" data-label="Salaire">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="revenus" data-id="salaire">
              </td>
            </tr>
            <tr>
              <td class="prev-label">CAF</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="revenus" data-id="caf" data-label="CAF">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="revenus" data-id="caf">
              </td>
            </tr>
            <tr>
              <td class="prev-label">Mois pr√©c√©dent</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="revenus" data-id="mois_prec" data-label="Mois pr√©c√©dent">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="revenus" data-id="mois_prec">
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr class="prev-total-row">
              <td class="prev-total-label">Total entr√©es</td>
              <td class="prev-total-cell" id="total-entrees">0 ‚Ç¨</td>
              <td></td>
            </tr>
          </tfoot>
        </table>
        <button type="button" class="prev-add-row" data-bloc="revenus">+ Ajouter une ligne</button>
      </div>

      <!-- üí∞ √âpargne -->
      <div class="prev-col">
        <h3 class="section-sub">√âpargne</h3>
        <table class="prev-table">
          <thead>
            <tr>
              <th>Cat√©gorie</th>
              <th class="prev-amount-col">Montant</th>
              <th class="prev-note-col">Autre</th>
            </tr>
          </thead>
          <tbody id="tbody-epargne">
            <tr>
              <td class="prev-label">Livret A</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="epargne" data-id="livret_a" data-label="Livret A">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="epargne" data-id="livret_a">
              </td>
            </tr>
            <tr>
              <td class="prev-label">PEL</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="epargne" data-id="pel" data-label="PEL">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="epargne" data-id="pel">
              </td>
            </tr>
            <tr>
              <td class="prev-label">Trade Republic</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="epargne" data-id="trade_republic" data-label="Trade Republic">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="epargne" data-id="trade_republic">
              </td>
            </tr>
            <tr>
              <td class="prev-label">Fortuneo</td>
              <td>
                <input type="number" step="0.01" class="prev-input"
                       data-bloc="epargne" data-id="fortuneo" data-label="Fortuneo">
              </td>
              <td class="prev-note-cell">
                <input type="text" class="prev-note"
                       data-bloc="epargne" data-id="fortuneo">
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr class="prev-total-row">
              <td class="prev-total-label">Total √©pargne</td>
              <td class="prev-total-cell" id="total-epargne">0 ‚Ç¨</td>
              <td></td>
            </tr>
          </tfoot>
        </table>
        <!-- Pas de bouton ajouter pour √©pargne -->
      </div>
    </div>
  </section>
</body>
</html>

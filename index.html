<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Suivi Financier</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <!-- ⚙️ Lien paramètres -->
  <a id="btn-parametres" href="parametres.html">☰</a>

  <header>
    <h1>Suivi Financier</h1>
  </header>

  <!-- ========================== VUE GLOBALE ========================== -->
  <section id="global" class="two-col">
    <div>
      <h2>Vue globale</h2>
      <ul id="comptes-cumules" class="accounts-list">
        <li>
          <span>Solde total cumulé</span>
          <strong id="kpi-solde-cumule">0 €</strong>
        </li>
      </ul>
    </div>
    <div>
      <h2>Évolution annuelle</h2>
      <div class="chart-wrap">
        <canvas id="chart-annee"></canvas>
      </div>
    </div>
  </section>

  <!-- ========================== MOIS SÉLECTIONNÉ ========================== -->
  <section id="mois-section" class="two-col">
    <div>
      <h2>Mois sélectionné</h2>
      <label>Mois :
        <select id="mois-select"></select>
      </label>
      <label>Année :
        <select id="annee-select"></select>
      </label>

      <h3>Compte Courant</h3>
      <div class="kpi-grid">
        <div class="kpi"><div class="kpi-label">Entrées</div><div class="kpi-value" id="kpi-entrees">0 €</div></div>
        <div class="kpi"><div class="kpi-label">Sorties</div><div class="kpi-value" id="kpi-sorties">0 €</div></div>
        <div class="kpi"><div class="kpi-label">Solde du mois</div><div class="kpi-value" id="kpi-solde-mois">0 €</div></div>
      </div>

      <h3>Épargne</h3>
      <ul id="epargne-lignes" class="accounts-list"></ul>
    </div>

    <div>
      <h2>Dépenses par catégorie</h2>
      <button id="toggle-metric" title="Basculer en % ou €">%</button>
      <div class="two-col-inner">
        <div class="chart-wrap">
          <canvas id="camembert"></canvas>
        </div>
        <div id="cat-legend" class="cat-legend"></div>
      </div>
    </div>
  </section>

  <!-- ========================== AJOUT DE TRANSACTION ========================== -->
  <section id="formulaire-ajout">
    <h2>Ajouter une transaction</h2>
    <form id="form-ajout">
      <select id="type" required>
        <option value="">-- Type --</option>
        <option value="entrée">Entrée</option>
        <option value="sortie">Sortie</option>
      </select>
      <input type="number" step="0.01" id="montant" placeholder="Montant (€)" required />
      <select id="categorie" required></select>
      <input type="text" id="sous-categorie" placeholder="Sous-catégorie (ex: Lidl)" />
      <select id="compte" required></select>
      <input type="month" id="mois-annee" required />
      <input type="text" id="description" placeholder="Description (facultatif)" />
      <button type="submit">Ajouter</button>
    </form>
  </section>

  <!-- ========================== TRANSACTIONS ========================== -->
  <section id="transactions">
    <h2>Transactions du mois sélectionné</h2>
    <ul id="liste-transactions"></ul>
  </section>

  <script src="script.js"></script>
</body>
</html>
